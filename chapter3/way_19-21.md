# 함수가 여러 개의 값을 반환하는 경우 4개 이상의 값을 반환하지 말자. 
- 4개 이상의 값을 반환해야 한다면 `경량 클래스(lightweight class)`나 `namedtuple`을 사용하자.

# None을 반환하기보다는 예외를 발생시켜라 
- 특별한 의미를 표시하는 None을 반환하는 함수를 사용하면 None과 다른 값이 조건문에서 False로 평가될 수 있어서 실수하기 쉬움

# 변수 영역과 클로저의 상호작용 방식을 이해하자

## 상황 : 숫자로 이뤄진 list를 정렬. 단, 정렬한 리스트의 앞쪽에는 우선순위를 부여한 몇몇 숫자를 위치시켜야 함

이럴 때 사용하는 일반적인 방법 ⇒ `list의 sort 메서드`의 `key 매개변수`에 도우미 함수를 전달하기 

도우미 함수를 통해 주어진 원소가 중요한 숫자 그룹에 들어있는지 검사해서 정렬 기준값을 적절히 조정한다. 
``` python
def sort_priority(values, group):
    def helper(x):

        # 원소의 값이 group에 속한다면 (0, x) 반환 
        if x in group: 
            return (0, x)
        # 그렇지 않으면 (1, x) 반환 
        return (1, x)

    # 정렬의 기준이 되는 값이 튜플이기 때문에 1번째 값 => 2번째 값 순서로 전체적인 값이 정렬된다.
    # 따라서, (0, x)에 해당하는 원소들이 우선적으로 앞에 오게 된다.
    values.sort(key=helper)

numbers = [8, 3, 1, 2, 5, 4, 7, 6]
group = {2, 3, 5, 7}
sort_priority(numbers, group)
print(numbers)

>>> [2, 3, 5, 7, 1, 4, 6, 8]
```

## 이 함수가 예상대로 작동하는 3가지 이유 

1. 클로저(closure) 지원
  - 클로저 : 자신이 정의된 영역 밖의 변수를 참조하는 함수
  - 위 함수에서는 helper 함수 안에 있는 group 변수는 바깥에 있는 sort_priority의 group 매개변수를 참조한 것임
2. 함수는 일급 시민(first-class citizen) 객체이다. = `함수` 자체가 다른 데이터 타입과 동일한 권리를 갖고 취급된다. 
  - 일급 시민 객체란 다음 조건을 만족하는 객체를 뜻한다. 
      - 변수 or 데이터 구조에 넣을 수 있어야 한다.
        ``` python
        def greet(name):
            return f"Hello, {name}!"
        
        # 함수를 변수 greeting에 할당 
        greeting = greet
        
        # 할당된 변수로 함수 호출
        print(greeting("Alice"))  # 출력: Hello, Alice!

        ```
      - 매개변수에 전달할 수 있어야 한다.
        ``` python
        def add(x, y):
            return x + y
        
        def operate(func, a, b):
            return func(a, b)
        
        # add 함수를 operate 함수의 인수로 전달
        result = operate(add, 5, 3)
        print(result)  # 출력: 8

        ```
      - 반환값으로 사용할 수 있어야 한다. 
        ``` python
        def outer_function(msg):
            def inner_function():
                return f"Message: {msg}"
            return inner_function
        
        # outer_function이 inner_function 함수를 반환
        message_function = outer_function("Hi there!")
        print(message_function())  # 출력: Message: Hi there!

        ```
이러한 성질때문에 sort 메서드는 클로저 함수를 key 인자로 받을 수 있다.    

3. 튜플을 포함한 시퀀스를 비교하는 구체적인 규칙이 있음 

Python에서는 시퀀스를 비교할 때 0번 인덱스 값 비교 => 1번 인덱스 값 비교한다.  
이런 식으로 순서대로 원소를 비교해 두 값이 같다면 그 다음 원소로 넘어가는 작업을 반복한다. 

## 상황2 : 



